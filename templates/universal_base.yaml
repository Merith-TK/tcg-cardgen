name: "Universal Base CardStyle"
tcg: "universal"
version: "1.0.0"
description: "Base cardstyle for all TCGs — defines universal layout roles, metadata expectations, and rendering options."

# Standard physical card dimensions (in pixels @300dpi)
dimensions:
  width: 750
  height: 1050
  dpi: 300

# ---------------------------------------
# UNIVERSAL METADATA DEFINITIONS
# ---------------------------------------

required_fields:
  - card.tcg
  - card.title
  - card.type

optional_fields:
  card.subtitle: null           # e.g. "Creature — Human Wizard"
  card.rarity: "common"
  card.set: "Unknown"
  card.artist: "Unknown Artist"
  card.collector_number: null   # Set number
  card.print_this: "1"
  card.print_total: "1"
  card.body: ""                 # Rules text or description (from markdown content)
  card.flavor_text: null
  card.power: null              # Generic offensive stat
  card.toughness: null          # Generic defensive stat
  card.level: null              # For games with leveling (e.g. Digimon)
  card.cost: null               # Mana cost, energy, or resource cost
  card.hp: null                 # Pokémon-style health stat
  card.artwork: null
  card.watermark: null
  card.lang: "en-US"

# ---------------------------------------
# UNIVERSAL LAYER ROLES
# ---------------------------------------

layers:
  # Card frame / background
  - name: "card_frame"
    role: "frame"
    type: "image"
    source: "{{template_dir}}/frames/{{card.rarity}}_frame.png"
    region: { x: 0, y: 0, width: 750, height: 1050 }

  # Card artwork
  - name: "artwork"
    role: "artwork"
    type: "image"
    source: "{{card.artwork}}"
    region: { x: 60, y: 100, width: 630, height: 460 }
    fallback: "{{template_dir}}/artwork/default.png"

  # Title bar text
  - name: "title"
    role: "card_title"
    type: "text"
    content: "{{card.title}}"
    region: { x: 60, y: 60, width: 500, height: 35 }
    font:
      family: "{{style_tokens.font_title|Beleren}}"
      size: 20
      weight: "bold"
      color: "{{style_tokens.color_title|#000000}}"

  # Subtitle / type line
  - name: "type_line"
    role: "type_line"
    type: "text"
    content: "{{card.type}}"
    region: { x: 60, y: 580, width: 630, height: 25 }
    font:
      family: "{{style_tokens.font_text|Noto Sans}}"
      size: 14
      weight: "bold"
      color: "{{style_tokens.color_text|#000000}}"

  # Card rules text or description
  - name: "rules_text"
    role: "rules_box"
    type: "text"
    content: "{{card.body}}"
    region: { x: 70, y: 620, width: 610, height: 280 }
    font:
      family: "{{style_tokens.font_text|Noto Sans}}"
      size: 12
      color: "{{style_tokens.color_text|#000000}}"
    icon_replace: true
    strip_headers: true

  # Artist credit
  - name: "artist_credit"
    role: "artist"
    type: "text"
    content: "Illustrated by {{card.artist}}"
    region: { x: 70, y: 920, width: 300, height: 15 }
    font:
      family: "{{style_tokens.font_small|Noto Sans}}"
      size: 8
      style: "italic"
      color: "#333333"
    condition: "{{card.artist}}"

  # Set and collector info
  - name: "set_info"
    role: "set_info"
    type: "text"
    content: "{{card.set}} • {{card.print_this}}/{{card.print_total}}"
    region: { x: 580, y: 1020, width: 150, height: 15 }
    font:
      family: "{{style_tokens.font_small|Noto Sans}}"
      size: 8
      color: "#333333"
    align: "right"

# ---------------------------------------
# STYLE TOKENS (default visual constants)
# ---------------------------------------

style_tokens:
  font_title: "Beleren"
  font_text: "Noto Sans"
  font_small: "Noto Sans"
  color_title: "#000000"
  color_text: "#000000"
  color_frame_shadow: "#222222"

# ---------------------------------------
# ICON DEFINITIONS (optional)
# ---------------------------------------

icons: {}   # To be filled by each TCG-specific extension

# ---------------------------------------
# EXTENSION POINTS
# ---------------------------------------

extends: null        # allows "mtg_basic.yml" to extend this base
overrides: []        # list of layer modifications / replacements

conditions:
  - if: "{{card.tcg == 'mtg'}}"
    include: "mtg_layers.yml"
  - if: "{{card.tcg == 'pokemon'}}"
    include: "pokemon_layers.yml"